<!DOCTYPE html>
<html><head><title>Blockchain Demo</title>
<meta charset="UTF-8">
<link rel=stylesheet href="../css/blockchain.css" type="text/css">
<style type="text/css">
.main
{
  width: 90%;
}

</style>
</head>
<body>

  <div class="generate">
    <div class="header-hash">previous hash</div>
    <div class="header-data">data</div>
    <div class="header-user">username</div>
    <div class="header-nonce">nonce</div>

    <div class="broken-out-inputs-hash"><input id="previous-hash" type="text" value="" placeholder="Previous Hash" onkeyup="generate_hash()" /></div>
    <div class="broken-out-inputs-data"><input id="data" type="text" value="" placeholder="Data" onkeyup="generate_hash()" /></div>
    <div class="broken-out-inputs-user"><input id="user" type="text" value="" placeholder="User" onkeyup="generate_hash()" /></div>
    <div class="broken-out-inputs-nonce"><span id="nonce">0</span></div>
    <div class="broken-out-inputs-increment"><button id="increment" onclick="increment(1)">Increment</button></div>
    <div class="broken-out-inputs-decrement"><button id="decrement" onclick="increment(-1)">Decrement</button></div>
    <div class="broken-out-inputs-reset"><button id="reset" onclick="reset()">Reset</button></div>

    <div class="input-text-label"><label>Input text</label></div>
    <div class="input-text-value"><span id="input-text" value=""></span></div>

    <div class="output-label"><label>Output hash</label></div>
    <div class="output-value"><span id="output"></span></div>
  </div>
  <hr>
  <div class="verify">
    <div class="verify-input-text-label"><label>Input text</label></div>
    <div class="verify-input-text-value"><input id="verify-text" type="text" value="" placeholder="text" onkeyup="verify_hash()" /></div>

    <div class="verify-output-label"><label>Output hash</label></div>
    <div class="verify-output-value"><span id="verify-hash">verify</span></div>
  </div>

<script src="../js/hashfunctions.js"></script>
<script type="text/javascript">
<!--
var LOWER_HEX = "0123456789abcdef";

function reset() {
  document.getElementById('nonce').textContent = '0'
  generate_hash()
}

function increment(delta) {
  nonce = parseInt(document.getElementById('nonce').textContent)
  nonce += delta
  document.getElementById('nonce').textContent = nonce
  generate_hash()
}

function generate_hash() {
  previous_hash = document.getElementById('previous-hash').value
  data = document.getElementById('data').value
  user = document.getElementById('user').value
  nonce = document.getElementById('nonce').textContent
  combined_input = previous_hash + ':' + data + ':' + user + ':' + nonce
  document.getElementById('input-text').textContent = combined_input
  document.getElementById('output').textContent = any_sha256(combined_input, LOWER_HEX)
}

function verify_hash() {
  input_text = document.getElementById('verify-text').value
  document.getElementById('verify-hash').textContent = any_sha256(input_text, LOWER_HEX)
}
-->
</script>
</body>
</html>
